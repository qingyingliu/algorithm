---
title: 功能强大的序列
date: 2018-11-26 21:04:21
categories: Python
---
### 介绍
序列是Python中的一种常用的内置数据类型，一共有五种，包括：
- 列表
- 元组
- 集合
- 字典
- 字符串

这篇博客讲的是前四种序列，和字符串分开讲。
在上面5种序列中，很多的属性和方法都是类似的，下面介绍它们的公共的方法和属性。

### 共有的方法

#### 索引(Indexing)
类似与C++、Java等语言的数组，Python的序列也是通过索引来访问的，而且索引的开始下标都是为0.
比如：
```python
#!/usr/bin/env python
# coding=utf-8
verse = ['春眠不觉晓','处处闻啼鸟','夜来风雨声','花落知多少']
# 输出第1个元素
print(verse[0])
#输出第三个元素
print(verse[2])

```
输出结果为：
```
春眠不觉晓
夜来风雨声
```
但是，Python也有它独自的特点：负数索引。这个索引从最后一个元素开始计数，从-1开始。然后向左依次索引减小1。
即：
```
-n, -(n-1) , -(n-2) , ,... , -2 , -1 #n为序列的长度
```
比如：
```python
#!/usr/bin/env python
# coding=utf-8
verse = [1,2,3,4,5]
print(verse[-1])
print(verse[-2])
```

输出结果为：
```
5
4

```

#### 切片(Sliceing)

切片操作是访问序列中元素的另一种方法，他可以访问一定范围内的元素。通过切片操作可以生成一个新的序列，实现切片操作的语法格式如下：
```python
sname[start,end,step]
```
参数说明：
- sname: 表示序列的名称
- start： 表示切片的开始位置（包括该位置）。
- end： 切片的截止位置（不包括该位置）。
- step： 步长。

值得注意的是，这里的参数都是有默认参数的。start默认为0，end默认为序列的长度，step默认为1。
比如：
```python
#!/usr/bin/env python
# coding=utf-8
squares = [1, 4, 9, 16, 25]

print(squares[-3:])
#all
print(squares[:])
#reverse
print(squares[::-1])
```
输出结果为：
```
[9, 16, 25]
[1, 4, 9, 16, 25]
[25, 16, 9, 4, 1]
```

#### 序列相加(Adding)
在Python中，支持两种**类型相同**的序列进行相加操作，将两个列表合成一个列表。
比如：
```
#!/usr/bin/env python
# coding=utf-8
num = [1, 2, 3, 4]
str = ['python niubi','i love python','why not learn python']
print(num + str)
```

输出结果为：
```
[1, 2, 3, 4, 'python niubi', 'i love python', 'why not learn python']
```

注意我刚才上面说的话，支持两种类型相同的序列进行操作，指的是序列的类型，而不是序列元素的类型。比如元组和列表就不能够进行加法操作。

#### 乘法操作(multiplying)
通过乘法操作，我们可以把序列重复n次。比如
```
#!/usr/bin/env python
# coding=utf-8
l = [1, 2, 3]
print(l*3)
```

输出的结果为：
```
[1, 2, 3, 1, 2, 3, 1, 2, 3]
```

#### 检查某个元素是否是序列的成员
通过in关键字，可以判断某个元素是否为序列的成员。
`item in sequence`
返回的结果是true或者false

#### 计算序列的长度、最大值和最小值
计算序列的长度： len()函数
计算最小值： min()
计算最大值： max()
比如计算上面例子中的num序列的长度可以这样写：`len(num)`

### 列表
列表是可变的序列，类似于C语言的数组，但是它的元素的类型却是任意的。下面来介绍一些关于列表的方法。

#### 列表的创建和删除
可以直接通过赋值运算符和`[]`来创建列表，也可以使用list函数来创建数值列表。
删除列表：`del listname`，其中listname是列表名
例如：
```python
#!/usr/bin/env python
# coding=utf-8

# 通过扶植和[]来创建列表
list1 = [1, 2, 3, 4, 5]

#通过list()来创建数值列表
list2 = list(range(1,6))

print(list1)
print(list2)

#删除列表
del list1
del list2
```

运行结果为：
```
[1, 2, 3, 4, 5]
[1, 2, 3, 4, 5]
```

#### 遍历序列
语法：

```python
for item in listname:
    # do some same things
```
如果我们需要同时得到元素和下标，则可以这样便利：
```python
for index,item in enumerate(listname):
    # do some same things
```
例如：
```python
#!/usr/bin/env python
# coding=utf-8

team =['火箭','勇士','开拓者','雷霆']
for index,item in enumerate(team):
    print(index," :"+item)
```

#### 排序列表
排序列表有两种方法，使用列表对象的sort方法和内置的sorted函数。
比如：
```python
#!/usr/bin/env python
# coding=utf-8
l = [5, 1, 6, 8, 7]
l.sort()
print(l)

l = [5, 1, 6, 8, 7]
l = sorted(l)
print(l)
```
其中列表对象的sort方法为
`listname.sort(cmp = None, key = None, reverse= NOne)`
其中cmp是老的方法，这里不详细介绍（类似与C++的sort函数的cmp函数），主要介绍key和reverse。
key: 通过某个函数或者是映射返回的值，根据这个值来进行排序。
reverse： 升序还是降序，默认升序。
sorted的方法类似，只是加了一个对象参数，表明需要排序的对象。
`sorted(iterable, key = None,reverse = None)`
在key那里很多时候为了简洁，会经常用到lamber表达式，有兴趣的同学可以去查一查。

#### 列表推导式
列表推导式可以快速生成一个列表，或者根据某个列表生存满足指定需求的列表。
`list = [Expression for var in range if condition]`
上面的表达的意思就是for循环的var变量如果满足condition表达是，则会加入到list中。

比如，我们想得到20以内的偶数，我们可以这样写：
```Python
#!/usr/bin/env python
# coding=utf-8

list = [var for var in range(1,21) if var %2 ==0]
print(list)
```

### 元组
元组的方法和列表类似，这里只列举出不同之处。
1. 创建方法不同。元组的创建方法使用`()`来创建。
2. 元组是不可修改的，所以修改序列的方法在这里不能用，比如append，insert等等
3. 列表不能够作为字典的健,而元组可以。

例如：
```python
#!/usr/bin/env python
# coding=utf-8
# 创建元组
tp = (1,2,3,4,5)

# 便利元组
for index,item in enumerate(tp):
    print(index,item)
```
